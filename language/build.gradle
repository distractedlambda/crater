plugins {
    id "antlr"
    id "java-library"
}

repositories {
    mavenCentral()
}

dependencies {
    antlr "org.antlr:antlr4:4.11.1"
    compileOnly "org.graalvm.truffle:truffle-api:22.3.0"
    annotationProcessor "org.graalvm.truffle:truffle-dsl-processor:22.3.0"
}

java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(17))
    }
}

jar {
    from {
        configurations.runtimeClasspath.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
}
